<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DEMO</title>
  <style>
    body { font-family: sans-serif; }
    #editor { border: 1px solid #ddd; max-width: 700px; margin: 2em auto; }
    .cm-editor { min-height: 250px; }
  </style>
  <script type="importmap">
    {
      "imports": {
        "@codemirror/": "https://esm.sh/*@codemirror/",
        "codemirror": "https://esm.sh/*codemirror",
        "crelt": "https://esm.sh/crelt",
        "isomorphic-fetch": "https://esm.sh/isomorphic-fetch",
        "isomorphic-ws": "https://esm.sh/isomorphic-ws",
        "@lezer/": "https://esm.sh/*@lezer/",
        "@marijn/find-cluster-break": "https://esm.sh/@marijn/find-cluster-break",
        "@open-rpc/": "https://esm.sh/*@open-rpc/",
        "style-mod": "https://esm.sh/style-mod",
        "w3c-keyname": "https://esm.sh/w3c-keyname"
      }
    }
  </script>
</head>
<body>
  <h2>demo</h2>
  <div id="editor"></div>
  <script type="module">
    import { WebSocketTransport } from "@open-rpc/client-js";
    import { basicSetup, EditorView } from "codemirror";

    const startDoc = `package authz

allow if {
  some x in input.xs
  input.what != "ever"
}`;

    new EditorView({
      doc: startDoc,
      extensions: [basicSetup],
      parent: document.getElementById("editor")
    });
  </script>
</body>
</html>
